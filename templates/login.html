<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Auth Page</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    html { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue"; }
  </style>
</head>
<body class="min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4">
  <div class="w-full max-w-md">
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl ring-1 ring-gray-900/5 p-8">
    {% block user_form %}
      <!-- Heading -->
      <div class="mb-6 text-center">
        <div class="mx-auto mb-3 h-12 w-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="h-6 w-6" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 00-5.25 5.25v.75H5.25A2.25 2.25 0 003 9.75v9A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75v-9a2.25 2.25 0 00-2.25-2.25h-1.5v-.75A5.25 5.25 0 0012 1.5zm3.75 6V6.75A3.75 3.75 0 0012 3a3.75 3.75 0 00-3.75 3.75V7.5h7.5z" clip-rule="evenodd" />
          </svg>
        </div>
        <h1 id="formTitle" class="text-xl font-semibold text-gray-900 dark:text-white">Welcome back</h1>
        <p id="formSubtitle" class="mt-1 text-sm text-gray-500 dark:text-gray-400">Please sign in to continue</p>
      </div>

      <!-- Alert -->
      <div id="alert" class="hidden mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900/40 dark:bg-red-950/40 dark:text-red-300">{{ error }}</div>
      
      <!-- Login Form -->
      <form id="loginForm" action="{% url 'khata:login' %}" method="POST" class="space-y-5">
        {% csrf_token %}
        <div>
          <label for="loginEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Email</label>
          <input id="loginEmail" name="email" type="email" required class="w-full rounded-xl border-gray-300 px-3 py-2 dark:border-gray-700 dark:bg-gray-900 bg-gray-100 dark:text-gray-100" placeholder="you@example.com"/>
        </div>
        <div>
          <label for="loginPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1">Password</label>
          <input id="loginPassword" name="password" type="password" required class="w-full rounded-xl border-gray-300 px-3 py-2 dark:border-gray-700 dark:bg-gray-900 bg-gray-100 dark:text-gray-100" placeholder="••••••••"/>
        </div>
        <button type="submit" class="w-full rounded-xl bg-indigo-600 px-4 py-2.5 text-white font-medium shadow hover:bg-indigo-500">Sign in</button>
      </form>
            <!-- Toggle Links -->
      <p class="mt-6 text-center text-sm text-gray-500 dark:text-gray-400">
        <a href="{% url 'khata:signup' %}">Don’t have an account?</a> 
        <a href="{% url 'khata:signup' %}" id="" class="font-medium text-lg text-indigo-600 hover:text-indigo-500 dark:text-indigo-400">Sign up</a>
    </p>
    {% endblock user_form %}
    <div class="mt-6 text-center">
    <a href="{% url 'khata:home' %}" id="" class="font-medium underline text-indigo-600 hover:text-indigo-500 dark:text-indigo-400">Go to homepage</a>
    </div>
    </div>
    <p class="mt-6 text-center text-xs text-gray-500 dark:text-gray-400">© 2025 Hisaab Kitaab PVT LTD</p>
    
</div>
<script>
  // अगर Django context से error आया है तो alert दिखा दो
  {% if error %}
    document.getElementById("alert").classList.remove("hidden");
  {% endif %}
</script>



</body>
</html>
